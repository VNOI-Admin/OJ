{% extends "base.html" %}

{% block media %}
<link rel="stylesheet" href="{{ static('hof.css') }}">
<style>
</style>
{% endblock %}

{% block js_media %}
<script>

    $(document).ready(function(){

        $('.logo-grid-icon').mouseenter(event => {
            $('.title').text($(event.currentTarget).data('title'));
            $('.title').html($('.title').html().replace(/\n/g, '<br>'));

            $('#description').removeClass('type');
            $('#description').text($(event.currentTarget).data('content'));
            $('#description').width();
            $('#description').addClass('type');
        });

        $('.logo-grid-icon').mouseleave(event => {
            $('.title').text("VNOJ Hall of Fame");
            $('.title').html($('.title').html().replace(/\n/g, '<br>'));

            $('#description').removeClass('type');
            $('#description').text(
            `Meet the contributors of the community, the challengers who named themselves the best of the best.
            Use the VNOJ logo and let the journey begins.`);
            $('#description').html($('#description').html().replace(/\n/g, '<br>'));
            $('#description').width();
            $('#description').addClass('type');
        });

        $('.card').click(event => {
            const current_active = $('.card.active');
            if ($(current_active)[0] == $(event.currentTarget)[0]) {
                console.log('Same card clicked');
                current_active.removeClass('active').children('.card-content').removeClass('active');
                current_active.children().not('.card-content').fadeIn('fast');
            } else {
                console.log('Different card clicked');
                current_active.removeClass('active').children('.card-content').removeClass('active');
                current_active.children().not('.card-content').fadeIn('fast');
                $(event.currentTarget).addClass('active').children().not('.card-content').fadeOut('fast');
                $(event.currentTarget).children('.card-content').addClass('active');
            }
        })

        const cardGroups = document.querySelectorAll('.card-group');
        const buttons = document.querySelector('.buttons');

        for (let i = 0; i < cardGroups.length; i++) {
            const btn = document.createElement('button');
            btn.classList.add('btn');
            if (!i) btn.classList.add('active');
            buttons.append(btn);
        }

        const btns = document.querySelectorAll('.btn');
        btns.forEach((btn, i) => {
            btn.addEventListener('click', () => {
                let currentActiveIndex = 0;
                btns.forEach((btn, i) => {
                    if (btn.classList.contains('active')) currentActiveIndex = i;
                    btn.classList.remove('active')
                });
                btn.classList.add('active');
                if (i > currentActiveIndex) {
                    cardGroups[i].dataset.status = 'active-right';
                } else {
                    cardGroups[i].dataset.status = 'active-left';
                }
                cardGroups.forEach(cardGroup => {
                    if (cardGroup.dataset.status === 'active') {
                        if (i > currentActiveIndex) cardGroup.dataset.status = 'hidden-left';
                        else cardGroup.dataset.status = 'hidden-right';
                    }
                });
                setTimeout(() => {
                    cardGroups[i].dataset.status = 'active';
                });
            })
        })

        // observer = new IntersectionObserver(entries => {
        //     entries.forEach(entry => {
        //         if (entry.isIntersecting) {
        //             entry.target.classList.add('show');
        //             entry.target.classList.remove('hidden');
        //             observer.unobserve(entry.target);
        //         }
        //     });
        // });

        // $('.card').each((i, card) => {
        //     observer.observe(card);
        // });

        const navBtn = document.querySelector('.go-up');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                navBtn.classList.add('active');
            } else {
                navBtn.classList.remove('active');
            }
        });
        navBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
    const config = {
  "particles": {
    "number": {
      "value": 80,
      "density": {
        "enable": true,
        "value_area": 800
      }
    },
    "color": {
      "value": "#ffffff"
    },
    "shape": {
      "type": "circle",
      "stroke": {
        "width": 0,
        "color": "#000000"
      },
      "polygon": {
        "nb_sides": 5
      },
      "image": {
        "src": "img/github.svg",
        "width": 100,
        "height": 100
      }
    },
    "opacity": {
      "value": 0.5,
      "random": false,
      "anim": {
        "enable": false,
        "speed": 1,
        "opacity_min": 0.1,
        "sync": false
      }
    },
    "size": {
      "value": 3,
      "random": true,
      "anim": {
        "enable": false,
        "speed": 40,
        "size_min": 0.1,
        "sync": false
      }
    },
    "line_linked": {
      "enable": true,
      "distance": 150,
      "color": "#ffffff",
      "opacity": 0.4,
      "width": 1
    },
    "move": {
      "enable": true,
      "speed": 6,
      "direction": "none",
      "random": false,
      "straight": false,
      "out_mode": "out",
      "bounce": false,
      "attract": {
        "enable": false,
        "rotateX": 600,
        "rotateY": 1200
      }
    }
  },
  "interactivity": {
    "detect_on": "canvas",
    "events": {
      "onhover": {
        "enable": true,
        "mode": "repulse"
      },
      "onclick": {
        "enable": true,
        "mode": "push"
      },
      "resize": true
    },
    "modes": {
      "grab": {
        "distance": 400,
        "line_linked": {
          "opacity": 1
        }
      },
      "bubble": {
        "distance": 400,
        "size": 40,
        "duration": 2,
        "opacity": 8,
        "speed": 3
      },
      "repulse": {
        "distance": 200,
        "duration": 0.4
      },
      "push": {
        "particles_nb": 4
      },
      "remove": {
        "particles_nb": 2
      }
    }
  },
  "retina_detect": true
}
    $(document).ready(() => {
        particlesJS('particles-js', config);
    })
    // particlesJS.load('particles-js', 'assets/particles.json', function() {
    //     console.log('callback - particles.js config loaded');
    // });
</script>
{% endblock %}

{% block navbar %}
{% endblock %}

{% block title_row %}{% endblock %}
{% block title_ruler %}{% endblock %}

{% block body %}
    <section class="loader" style="height: 100vh; background-color: white;">
        <svg id="vnoi" width="283.22000000000003" height="300.79" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" >
            <title>voni</title>
            <g id="vnoi-container">
             <title>Layer 1</title>
              <g id="vnoi-o">
                <circle id="svg_2" fill="#eedd00" r="59.73" cy="213.1" cx="64.37" class="cls-2"/>
                <path id="svg_7" fill="#dd7700" d="m102.83,203.76a6,6 0 0 1 -0.59,2.61a5.67,5.67 0 0 1 -1.68,2.05l-16.73,12.72l6.37,20.59a6.41,6.41 0 0 1 0.27,1.81a5.92,5.92 0 0 1 -0.42,2.22a5.6,5.6 0 0 1 -2.91,3.06a5.3,5.3 0 0 1 -2.12,0.44a5.23,5.23 0 0 1 -3.22,-1.1l-16.7,-12.73l-16.69,12.73a5.15,5.15 0 0 1 -3.22,1.1a5,5 0 0 1 -2.12,-0.46a5.69,5.69 0 0 1 -1.74,-1.24a6.2,6.2 0 0 1 -1.19,-1.84a5.79,5.79 0 0 1 -0.44,-2.25a6.15,6.15 0 0 1 0.27,-1.74l6.4,-20.59l-16.69,-12.72a5.57,5.57 0 0 1 -1.68,-2.05a6,6 0 0 1 -0.59,-2.61a5.57,5.57 0 0 1 0.44,-2.22a6,6 0 0 1 1.18,-1.83a5.77,5.77 0 0 1 1.75,-1.25a4.92,4.92 0 0 1 2.11,-0.46l20.63,0l6.37,-20.58a5.75,5.75 0 0 1 2,-2.88a5.25,5.25 0 0 1 6.43,0a5.75,5.75 0 0 1 2,2.88l6.4,20.58l20.62,0a5,5 0 0 1 2.12,0.46a5.6,5.6 0 0 1 1.74,1.25a5.84,5.84 0 0 1 1.19,1.83a5.75,5.75 0 0 1 0.44,2.22z" class="cls-5"/>
              </g>
            </g>
           </svg>
    </section>
    <section id="intro" class="hall-section">
        <div id="particles-js" style="position: fixed; width: 100%;"></div>
        <div class="hall-content hero-sub-page">
            <div class="hero-sub-page__content">
                <h1 class="title">
                    VNOJ Hall of Fame
                </h1>
                <div style="height: 4em; text-align:right; padding: 0.5em 0em 0.5em 0em;">
                    <span id="description" class="type" style="--n:500">
                        Meet the contributors of the community, the challengers who named themselves the best of the best.
                        <br>
                        Use the VNOJ logo and let the journey begins.
                    </span>
                </div>
                <!-- <button class="hall-button"><a style="color: black !important;" href="#server-stats"><span>TO THE HALL  <i class="fa arrow fa-angle-double-right"></i></span></a></button> -->
            </div>
            <div class="hero-sub-page__content">
                <table style="padding-right: 2em; border-collapse: seperate; border-spacing: 1.5em;">
                    <tr>
                        <td>
                            <a href="#server-stats"><img class="logo-grid-icon logo-top-left" style="float:right" src="{{ static('VNOIV.png') }}" data-title="Hall of Champions" data-content="Meet challengers from some of the latest contests."></a>
                        </td>
                        <td>
                            <a href="#top-contests"><img class="logo-grid-icon logo-top-right" style="float:left" src="{{ static('VNOIN.png') }}" data-title="Cracking the Stats" data-content="Top rating users. Top contributors. Top problem hunters. Everyone, everywhere, all at once."></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="#team"><img class="logo-grid-icon logo-bottom-left" style="float:right" src="{{ static('VNOIO.png') }}" data-title="VNOI Team" data-content="Meet the excellent team's members who try their best to contribute to the community"></a>
                        </td>
                        <td>
                            <a href="{{ url('home') }}"><img class="logo-grid-icon logo-bottom-right" style="float:left" src="{{ static('VNOII.png') }}" data-title="Return to the ship" data-content="Get back to your adventure. Write your own Hall of Fame."></a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </section>

    <section id="server-stats" class="hall-section">
        <div class="hall-content">
            <div class="ranking-container">
                <div class="ranking-card">
                    <h3 class="ranking-card__title">Problem solvers</h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" style="fill: #000;" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"/></svg>
                </div>
                <div class="ranking-card">
                    <h3 class="ranking-card__title">Rating rankers</h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" style="fill: #F4980A" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H384c17.7 0 32-14.3 32-32V288c0-17.7-14.3-32-32-32H256zM32 320c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zm416 96v64c0 17.7 14.3 32 32 32H608c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32H480c-17.7 0-32 14.3-32 32z"/></svg>
                </div>
                <div class="ranking-card">
                    <h3 class="ranking-card__title">Contributors</h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" style="fill: #000;" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
                </div>
            </div>
        </div>
        <div class="confetti top-left">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti top-right">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-left">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-right run-backward">
            <img src="{{ static('VNOIV.png') }}" alt="Letter V in VNOI logo">
        </div>
    </section>

    <!-- <section id="this-week" class="hall-section">
        <div class="hall-content">This is the this-week part</div>
    </section> -->
    <section id="top-contests" class="hall-section">
        <div class="hall-content">
            <div class="container">
                <div class="wrapper">
                    <h3 class="section-title">Recent Contests</h3>
                    <div class="recent">
                        {% for contest in contests %}
                            <div class="contest">
                                <h4>{{ contest[0] }}</h4>
                                <p class="date">{{ contest[0].start_time|date }}</p>
                                <table class="contests-table">
                                    <thead>
                                    </thead>
                                    <tbody>
                                        {% for user in contest[1] %}
                                            <tr>
                                                <td class="medal medal-{{loop.index}}">
                                                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0H133.9c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0H487.4C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"/></svg>
                                                </td>
                                                <td class="{{ user.user.css_class }}">{{ user.user }}</td>
                                                <td>{{ user.score|floatformat }}</td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="top-monthly">
                        <h3>Top user monthly</h3>
                        <div class="top-monthly__container">
                            {% if top_monthly %}
                                {% for user in top_monthly %}
                                    <div class="rank">
                                        <span class="medal medal-{{loop.index}}">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0H133.9c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0H487.4C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"/></svg>
                                        </span>
                                        <span class="username {{ user.css_class }}">{{ user.username }}</span>
                                    </div>
                                {% endfor %}
                            {% else %}
                                <div></div>
                                <p>Stay tuned for upcoming contests in this month</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="confetti top-left">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti top-right">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-right">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-left run-forward">
            <img src="{{ static('VNOIN.png') }}" alt="Letter N in VNOI logo">
        </div>
    </section>
    <section id="team" class="hall-section">
        <div class="hall-content">
            <div class="container">
                <div class="team-info-container">
                    <div class="main-content">
                        <div class="team-info">
                            <div class="team-info__card">
                                <img src="https://placeholder.co/300" />
                                <h4 class="team-info__name">Mr. Nguyen Van A</h4>
                                <p class="team-info__title">Lorem ipsum dolor</p>
                            </div>
                            <div class="team-info__card">
                                <img src="https://placeholder.co/300" />
                                <h4 class="team-info__name">Mr. Nguyen Van A</h4>
                                <p class="team-info__title">Lorem ipsum dolor</p>
                            </div>
                            <div class="team-info__card">
                                <img src="https://placeholder.co/300" />
                                <h4 class="team-info__name">Mr. Nguyen Van A</h4>
                                <p class="team-info__title">Lorem ipsum dolor</p>
                            </div>
                        </div>
                    </div>
                    <div class="tabs-container">
                        This is tabs
                    </div>
                </div>
            </div>
        </div>
        <div class="confetti top-left">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti top-right">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-left">
            <svg width="120px" height="120px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,0,0)">
                <polyline fill="none" stroke="#999" stroke-width="2" points="4 16 16 16 16 4" transform="rotate(180 10 10)"/>
            </svg> 
        </div>
        <div class="confetti bottom-right run-backward">
            <img src="{{ static('VNOIO.png') }}" alt="Letter O in VNOI logo">
        </div>
    </section>
    <div class="go-up">
        <i class="fa fa-chevron-up"></i>
    </div>

{% endblock %}
